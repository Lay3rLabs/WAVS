[workspace]
members = [
  "packages/*",
  "examples/components/cosmos-query",
  "examples/components/chain-trigger-lookup",
  "examples/components/echo-data",
  "examples/components/square",
  "examples/components/permissions",
  "examples/components/echo-block-interval",
  "examples/components/echo-cron-interval",
  "examples/components/_helpers",
  "examples/contracts/cosmwasm/simple",
]
resolver = "2"

[profile.dev]
split-debuginfo = "unpacked"

[profile.test]
split-debuginfo = "unpacked"

[workspace.package]
edition = "2021"
version = "0.4.0-beta.5"
license = "GPL-3.0"
authors = ["Layer Labs (Cayman)"]
repository = "https://github.com/Lay3rLabs/WAVS"
rust-version = "1.85.0"

[workspace.dependencies]
# http utilities
axum = { version = "0.8.4", features = ["macros"] }
http-body-util = "0.1.3"
reqwest = { version = "0.12.15", features = ["json"] }
tower-http = { version = "0.6.2", features = ["cors", "trace"] }
tower = { version = "0.5.2", features = ["util"] }
url = "2.5.4"
cid = "0.11.1"

# utoipa for OpenAPI
utoipa = { version = "5.3.1", features = ["axum_extras", "macros"] }
utoipa-swagger-ui = { version = "9.0.1", features = ["axum"] }

# error handling and logging
anyhow = "1.0.98"
axum-tracing-opentelemetry = "0.28.0"
opentelemetry = { version = "0.29.1", default-features = false, features = [
  "trace",
] }
opentelemetry-jaeger-propagator = "0.29.0"
opentelemetry-otlp = { version = "0.29.0", default-features = false, features = [
  "trace",
  "grpc-tonic",
  "metrics",
  "http-proto",
  "reqwest-blocking-client",
] }
opentelemetry_sdk = { version = "0.29.0", default-features = false, features = [
  "trace",
  "rt-tokio",
] }
tracing-opentelemetry = { version = "0.30.0", default-features = false, features = [
  "metrics",
] }
thiserror = "2.0.12"
tracing = "0.1.41"
tracing-subscriber = { version = "0.3.19", features = ["env-filter"] }

# cli and config
clap = { version = "4.5.37", features = ["derive", "env", "string"] }
dotenvy = { version = "0.15.7", features = ["cli"] }
dirs = "6.0.0"
shellexpand = "3.1.1"

# async runtime
tokio = { version = "1.45.0", features = ["full"] }
tokio-stream = { version = "0.1" }
futures = "0.3.31"
rayon = "1.10.0"
ctrlc = "3.4.6"
temp-env = { version = "0.3.6", features = ["async_closure"] }
async-trait = "0.1.88"

# collections
dashmap = "6.1.0"

# fs
tempfile = "3.19.1"
walkdir = "2.5.0"
wildmatch = "2.4.0"

# EVM-specific dependencies
alloy-node-bindings = "0.15.10"
alloy-json-abi = "1.1.0"
alloy-primitives = { version = "1.1.0", features = ["serde"] }
alloy-provider = { version = "0.15.10", features = ["anvil-node", "ws"] }
alloy-sol-types = "1.1.0"
alloy-sol-macro = { version = "1.1.0", features = ["json"] }
alloy-transport = "0.15.10"
alloy-contract = "0.15.10"
alloy-signer = "0.15.10"
alloy-signer-local = { version = "0.15.10", features = ["mnemonic"] }
alloy-network = "0.15.10"
alloy-rpc-types-eth = "0.15.10"
layer-climb = "0.4.3"
layer-climb-address = "0.4.3"
layer-climb-cli = "0.4.3"

# Cosmos-specific dependencies
cosmwasm-schema = "2.2.2"
cosmwasm-std = { version = "2.2.2", features = ["stargate"] }
cw-storage-plus = "2.0.0"
cw2 = "2.0.0"
wstd = "0.5.3"

# WASM and WIT bindings
wasm-pkg-client = "0.10.0"
wasm-pkg-common = "0.10.0"
wasmtime = { version = "32.0.0", features = [
  "cache",
  "component-model",
  "runtime",
  "std",
] }
wasmtime-wasi = { version = "32.0.0", default-features = true }
wasmtime-wasi-http = "32.0.0"
wit-bindgen = "0.42.1"
wavs-wasi-utils = "0.4.0-beta.4"

# benchmarking
criterion = { version = "0.5.1", features = ["async_tokio"] }

# serialization
bincode = { version = "2.0.1", features = ["serde"] }
serde = { version = "1.0.219", features = ["derive"] }
serde_json = "1.0.140"
figment = { version = "0.10.19", features = ["toml", "env"] }

# randomness
rand = "0.9.1"
bip39 = "2.1.0"

# hashing
sha2 = "0.10.9"
const-hex = "1.14.0"
ripemd = "0.1.3"

# database
redb = { version = "2.5" }
lru = "0.14.0"

# time
chrono = "0.4.41"
cron = { version = "0.15.0", features = ["serde"] }
uuid = { version = "1.16.0", features = ["v7", "serde"] }

# utilis
cfg-if = "1.0.0"

# versioning
semver = { version = "1.0.26", features = ["serde"] }

# local
utils = { path = "packages/utils" }
wavs = { path = "packages/wavs" }
wavs-engine = { path = "packages/engine" }
wavs-types = { path = "packages/types" }
wavs-cli = { path = "packages/cli" }
wavs-aggregator = { path = "packages/aggregator" }
example-helpers = { path = "examples/components/_helpers" }
wavs-benchmark-common = { path = "packages/wavs/benches/common" }
